<odoo>
  <data>
         <record id="vetapp_aggressive_wiz" model="ir.ui.view">
            <field name="name">vetapp.aggressive.wiz</field>
            <field name="model">vetapp.aggressive.wiz</field>
            <field name="arch" type="xml">
                <form string="Aggressive Animal">
                    <group>
                        <field name="vet_id"/>
                        <field name="notes"/>
                    </group>
                    <footer>
                        <button name="report_aggression" string="Report Aggression" type="object" class="btn-primary"/>
                        <button string="Cancel" class="btn-default" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
      <record id="vetapp_aggression_action" model="ir.actions.act_window">
          <field name="name">Report Aggressive Animals Behaviour</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">vetapp.aggressive.wiz</field>
          <field name="view_mode">form</field>
          <field name="view_id" ref="vetapp_aggressive_wiz"/>
          <field name="target">new</field>
      </record>


    <!-- explicit list view definition -->
      <record id="view_vet_app_animal_kanban" model="ir.ui.view">
            <field name="name">vetapp.animal.kanban</field>
            <field name="model">vetapp.animals</field>
            <field name="arch" type="xml">
                <kanban>
                    <field name="id"/>
                    <field name="name"/>
                    <field name="spayorneuter"/>
                    <field name="aggressive"/>
                    <field name="specialdiet"/>
                    <field name="speciespic"/>
                    <field name="specie_id"/>
                    <templates>
                        <t t-name="kanban-box">
                            <t t-set="spayorneutered" t-value="record.spayorneuter.raw_value"/>
                            <t t-set="isaggressive" t-value="record.aggressive.raw_value"/>
                            <t t-set="hasspecialdiet" t-value="record.specialdiet.raw_value"/>
                            <div t-attf-class="oe_kanban_global_click">
                                <div class="o_kanban_image">
                                <img alt="Animal" t-att-src="kanban_image('vetapp.animals','image_hold',record.id.raw_value)"/>
                                </div>
                                <div class="oe_kanban_details">
                                    <ul>
                                        <li t-if="isaggressive"
                                            class="float-right fa fa-exclamation-triangle vetapp_aggressive" role="img"
                                            aria-label="Aggressive" title="Aggressive"/>
                                        <li t-if="hasspecialdiet" class="float-right fa fa-cutlery"
                                            style="margin-right:5px;font-size:20px;color:green" role="img"
                                            aria-label="Special Diet" title="Special Diet"/>
                                <img class="float-right" style="width:24px;height:24px;margin-right:3px;padding-bottom:5px" alt="Species" t-att-title="record.specie_id.value" t-att-src="kanban_image('vetapp.animals','speciespic',record.id.raw_value)"/>
                                    <li class="mb4"><h3><field name="name"/></h3></li>
                                        <li class="float-right mb4"><strong>Owner:</strong><field name="owner_id"/></li>
                                        <li><strong>Age:</strong><field name="age"/></li>
                                        <li><strong>Specie:</strong><field name="specie_id"/></li>
                                        <li t-if="spayorneutered" class="text-muted float-right">SpayedorNeutered</li>
                                        <li class="mb4"><strong>Breed:</strong><field name="breed_id"/></li>
                                    </ul>
                                </div>
                                </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

    <record model="ir.ui.view" id="vetapp.animal_list">
      <field name="name">Animals list</field>
      <field name="model">vetapp.animals</field>
      <field name="arch" type="xml">
        <tree string="Animals_list">
            <field name="name"/>
            <field name="spayorneuter"/>
            <field name="specie_id"/>
            <field name="age"/>
            <field name="owner_id"/>
            <field name="ownerphone"/>
            <field name="breed_id"/>
                </tree>
      </field>
    </record>

      <record id="vetapp.animal_search_view" model="ir.ui.view">
            <field name="name">vetapp.animal.list.select</field>
            <field name="model">vetapp.animals</field>
            <field name="arch" type="xml">
                <search string="Search Animals">
                    <filter string="Dogs" name="specie_id_dogs" domain="[('specie_id.name','=','Dog')]" help="Only Dogs Name"/>
                    <filter string="Cats" name="specie_id_cats" domain="[('specie_id.name','=','Cat')]" help="Only Cats Name"/>
<!--                    <separator/> "This tag functions like an 'AND' Condition"-->
<!--                    <filter string="Cats" name="specie_id" domain="[('specie_id.name','=','Cat')]" help="Only Cats Name"/>-->
                    <group string="Group By...">
                        <filter string="Species" name="species" domain="[]" context="{'group_by':'specie_id'}"/>
                        <filter name="breed" string="Breed" domain="[]" context="{'group_by': 'breed_id'}"/>
                    </group>
                </search>
            </field>
      </record>
      <record model="ir.ui.view" id="vetapp.customer_form">
      <field name="name">Customer</field>
          <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="model">res.partner</field>
      <field name="arch" type="xml">
          <xpath expr="//field[@name='vat']" position="after"> <!--position can also be before and replace-->
              <button name="%(vetapp.action_animal_form)d" type="action" string="New Pet"/>
              <button name="process_animals" type="object" string="Process Animals"/>
              <field name="orientation_res"/>
              <field name="orientation_staff_id" attrs="{'invisible':[('orientation_res','=',False)]
              ,'required':[('orientation_res','=',True)]}"/>
          </xpath>
          <xpath expr="//page[@name='sales_purchases']" position="after">
              <page string="Pets">
              <field name="pets_ids" context="{'default_owner_id':active_id,'default_name':name + '- animal'}"/>
              </page>
          </xpath>
        </field>
    </record>
      <record model="ir.ui.view" id="vetapp.diagnosis_list">
      <field name="name">Diagnosis list</field>
      <field name="model">vetapp.diagnosis</field>
      <field name="arch" type="xml">
        <tree string="diagnosis_list">
            <field name="name"/>
            <field name="symptom_id"/>
                </tree>
      </field>
    </record>

<record model="ir.ui.view" id="vetapp.animal_form">
      <field name="name">Animals</field>
      <field name="model">vetapp.animals</field>
      <field name="arch" type="xml">
        <form string="Animals">
            <sheet>
                <header>
                    <button name="%(vetapp_aggression_action)d" type="action" string="Report Aggression"/>
                </header>
                <field name="image_hold" widget="image" class="oe_avatar"/>
                <div class="oe_title">
                    <h1>
                        <field name="name" placeholder="Enter animal name here"/>
                    </h1>
                </div>
                <group>
                    <group string="Animal Info" name="animal_info">
            <field name="name"/>
            <field name="birthdate"/>
            <field name="primaryvet_id"/>
            <field name="specie_id" options="{'no_create':True}"/>
            <field name="age"/>
            <field name="specialdiet"/>
            <field name="spayorneuter"/>
                    </group>
                        <group string="Other Info">
            <field name="owner_id"/>
            <field name="ownerphone"/>
            <field name="breed_id"/>
            <field name="firstvisit"/>
            <field name="aggressive"/>
            <field name="aggressionnotes" attrs="{'invisible':[('aggressive','=',False)],'required':[('aggressive','=',True)]}"/>
                        </group>
                </group>
                <notebook>
                    <page string="Diagnosis">
                        <field name="diagnosis_id"/>
                    </page>
                    <page string="Notes">
                        <group>
                            <field name="note" nolabel="1"/>
                        </group>
                    </page>
                </notebook>
            </sheet>
                </form>
      </field>
    </record>




    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="vetapp.action_animal_form">
      <field name="name">Animals</field>
      <field name="res_model">vetapp.animals</field>
      <field name="view_mode">form</field>
      <field name="target">new</field>
      <field name="context">{'default_owner_id':active_id}</field>
    </record>

    <record model="ir.actions.act_window" id="vetapp.action_animal">
      <field name="name">Animals</field>
      <field name="res_model">vetapp.animals</field>
      <field name="view_mode">kanban,tree,form</field>
    </record>
      <record model="ir.actions.act_window" id="vetapp.action_customer">
          <field name="name">Customers</field>
          <field name="context">{'search_default_customer': 1,'res_partner_search_mode': 'customer',
              'default_is_company': True, 'default_customer_rank': 1}
          </field>
          <field name="res_model">res.partner</field>
          <field name="view_mode">kanban,tree,form</field>
      </record>
          <record model="ir.actions.act_window" id="vetapp.action_dogs">
      <field name="name">Dogs</field>
              <field name="domain">[('specie_id','=','Dog')]</field>
              <field name="context">{'search_default_specie_id_dogs':1}</field>
      <field name="res_model">vetapp.animals</field>
      <field name="view_mode">kanban,tree,form</field>
    </record>
      <record model="ir.actions.act_window" id="vetapp.action_cats">
      <field name="name">Cats</field>
<!--              <field name="domain">[('specie_id','=','Cat')]</field> (no need of domain if you use context)-->
          <field name="context">{'search_default_specie_id_cats':1}</field>
      <field name="res_model">vetapp.animals</field>
      <field name="view_mode">kanban,tree,form</field>
    </record>
          <record model="ir.actions.act_window" id="vetapp.action_species">
      <field name="name">Species</field>
      <field name="res_model">vetapp.specie</field>
      <field name="view_mode">tree,form</field>
    </record>
    <record model="ir.actions.act_window" id="vetapp.action_breed">
      <field name="name">Breed</field>
      <field name="res_model">vetapp.breed</field>
      <field name="view_mode">tree,form</field>
    </record>
    <!-- server action to the one above -->
<!--
    <record model="ir.actions.server" id="vetapp.action_server">
      <field name="name">vetapp server</field>
      <field name="model_id" ref="model_vetapp_vetapp"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": model._name,
        }
      </field>
    </record>
-->

    <!-- Top menu item -->

    <menuitem name="Vet Clinic" id="vetapp.menu_root" web_icon="vetapp,static/description/icon.png"/>

    <!-- menu categories -->
    <menuitem name="Animals" id="vetapp.animals" parent="vetapp.menu_root" action="vetapp.action_animal"/>
      <menuitem name="Customers" id="vetapp.customer" parent="vetapp.menu_root" action="vetapp.action_customer"/>
      <menuitem name="All Animals" sequence="1" id="vetapp.all_animals_menu" parent="vetapp.animals" action="vetapp.action_animal"/>
      <menuitem name="Dogs" id="vetapp.dogs_menu" parent="vetapp.animals" action="vetapp.action_dogs"/>
      <menuitem name="Cats" id="vetapp.cats_menu" parent="vetapp.animals" action="vetapp.action_cats"/>
      <menuitem name="Configuration" id="vetapp.config_menu" parent="vetapp.menu_root"/>
      <menuitem name="Species" id="vetapp.specie_menu" parent="vetapp.config_menu" action="vetapp.action_species"/>
      <menuitem name="Breed" id="vetapp.breed_menu" parent="vetapp.config_menu" action="vetapp.action_breed"/>
<!--
    <menuitem name="Menu 2" id="vetapp.menu_2" parent="vetapp.menu_root"/>
-->
    <!-- actions -->
<!--
    <menuitem name="List" id="vetapp.menu_1_list" parent="vetapp.menu_1"
              action="vetapp.action_window"/>
    <menuitem name="Server to list" id="vetapp" parent="vetapp.menu_2"
              action="vetapp.action_server"/>
-->
  </data>
</odoo>